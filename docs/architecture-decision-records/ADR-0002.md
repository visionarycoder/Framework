# ADR-0002: Adopt GitOps for CI/CD

## Status
Accepted

## Date
2025-10-04

## Context
Our current CI/CD pipelines rely on imperative scripts and manual interventions, which:
- Increase the risk of configuration drift between environments.
- Make rollbacks and audits difficult.
- Reduce developer confidence in deployments.

We need a more **declarative, auditable, and automated** approach to managing infrastructure and application delivery.

## Decision
We will adopt **GitOps** as the standard approach for CI/CD in this repository.  
This means:
- All environment and deployment configurations are stored in Git as the **single source of truth**.
- Changes are applied automatically by GitOps controllers (e.g., ArgoCD, Flux).
- Rollbacks are achieved by reverting Git commits.
- CI pipelines will focus on build/test, while CD is handled declaratively via GitOps.

## Consequences
### Positive
- Declarative, version-controlled deployments.
- Easy rollbacks by reverting commits.
- Improved auditability and compliance.
- Reduced manual intervention and human error.

### Negative
- Requires learning curve for developers unfamiliar with GitOps.
- Additional tooling (ArgoCD/Flux) must be deployed and maintained.
- Some legacy pipelines may need refactoring.

## Alternatives Considered
- **Traditional CI/CD pipelines (imperative)** → rejected due to lack of reproducibility and auditability.
- **Manual deployments** → rejected due to high risk and inefficiency.
- **Hybrid approach (CI/CD + partial GitOps)** → rejected to avoid inconsistency and split-brain deployments.

## Related Decisions
- ADR-0001: Establish Solution Architect Radar and Best Practice Capsules (this ADR aligns with the DevOps capsule, where GitOps is marked as **Adopt**).

## References
- [GitOps Principles](https://opengitops.dev/)
- [ArgoCD Documentation](https://argo-cd.readthedocs.io/)
- [FluxCD Documentation](https://fluxcd.io/)
